<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head lang="en">
    <title th:text="#{pages.secure.chronicle.home.title}">Page Title</title>
    <!--/*/ <th:block th:include="/layout/bootstrap/inc_scripts :: header"></th:block> /*/-->
</head>
<body>
<!--/*/ <th:block th:include="/layout/bootstrap/inc_navs :: chronav"></th:block> /*/-->
<div class="container-fluid">
    <h1>WRITE MESSAGE</h1>
    <div class="row">
        <div class="col-3">
            <!--/* LEFT SECTION */-->
            <div class="row">
                <div class="col">
                    <!--/*/ <th:block th:include="/layout/bootstrap/inc_components :: characterSmall"></th:block> /*/-->
                </div>
            </div>
            <div class="row mt-2">
                <div class="col">
                    <!--/* PLACEHOLDER */-->

                </div>
            </div>
        </div>
        <div class="col-6">
            <!--/* CENTER SECTION */-->
            <!--/*@thymesVar id="newMessage" type="org.libermundi.theorcs.forms.MessageForm"*/-->
            <form th:object="${newMessage}" th:action="@{'/secure/chronicle/' + ${_chronicle.id} + '/messaging/write'}" method="post" enctype="application/x-www-form-urlencoded">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                <div class="form-group row">
                    <label th:for="from" th:text="#{pages.secure.chronicle.messaging.write.form.from}" class="col-2 col-form-label">From</label>
                    <div class="col-10">
                        <select class="form-control" th:field="*{from}">
                            <option th:each="aCharacter : ${characterList}"
                                    th:value="${aCharacter.id}"
                                    th:text="${aCharacter.name}">Character's Name</option>
                        </select>
                    </div>
                </div>
                <div class="form-group row">
                    <label th:for="to" th:text="#{pages.secure.chronicle.messaging.write.form.to}" class="col-2 col-form-label">To</label>
                    <div class="col-10">
                        <select class="form-control" th:field="*{from}">
                            <option th:each="aContact : ${contactList}"
                                    th:value="${aContact.id}"
                                    th:text="${aContact.name}">Contact's Name</option>
                        </select>
                    </div>
                </div>
                <div class="form-group row">
                    <label th:for="subject" th:text="#{pages.secure.chronicle.messaging.write.form.subject}" class="col-2 col-form-label">Subject</label>
                    <div class="col-10">
                        <input type="text" th:field="*{subject}" class="form-control" th:placeholder="#{pages.secure.chronicle.messaging.write.form.subject_placeholder}"
                               th:classappend="${(#fields.hasErrors('subject'))? 'is-invalid':''}" required aria-describedby="helpSubject"/>
                        <small id="helpSubject" class="text-muted" th:unless="${#fields.hasErrors('subject')}" th:text="#{pages.secure.chronicle.messaging.write.form.subject_help}">Indicate the subject of the message</small>
                        <div class="invalid-feedback" th:if="${#fields.hasErrors('subject')}">
                            <ul>
                                <li th:each="error : ${#fields.errors('subject')}" th:text="${error}"/>
                            </ul>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-3">
            <!--/* TIGHT SECTION */-->
            <div class="row">
                <div class="col">
                    <!--/*/ <th:block th:include="/layout/bootstrap/inc_components :: newslist"></th:block> /*/-->
                </div>
            </div>
            <div class="row mt-2">
                <div class="col">
                    <!--/* PLACEHOLDER */-->
                </div>
            </div>
        </div>
    </div>
</div>

<!--/*/ <th:block th:include="/layout/bootstrap/inc_navs :: footer"></th:block> /*/-->

<!--/*/ <th:block th:include="/layout/bootstrap/inc_scripts :: footer"></th:block> /*/-->
</body>
</html>